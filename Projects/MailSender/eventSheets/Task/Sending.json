{
	"name": "Sending",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Global"
		},
		{
			"eventType": "comment",
			"text": "navigation"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Back",
					"sid": 415820919137483
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 168483421647370,
					"parameters": {
						"layout": "Main"
					}
				}
			],
			"sid": 184155195231433
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Next",
					"sid": 642716378530504
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 675910513746749,
					"parameters": {
						"layout": "Address"
					}
				}
			],
			"sid": 331750973555059
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "SendingServers",
					"sid": 373694241905850
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 804667376033330,
					"parameters": {
						"layout": "Servers"
					}
				}
			],
			"sid": 413398528481752
		},
		{
			"eventType": "comment",
			"text": "refresh UI"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 302408592461749
				}
			],
			"actions": [
				{
					"callFunction": "SendingRefreshUI",
					"sid": 547927787472863
				}
			],
			"sid": 800307025607994
		},
		{
			"functionName": "SendingRefreshUI",
			"functionCopyPicked": false,
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": true,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 912594836066399,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "GetTask",
							"sid": 763231070505787,
							"parameters": [
								"CurrentUserUID",
								"CurrentPassword",
								"CurrentTaskUID",
								"\"servers\""
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 577784959159903
						}
					],
					"sid": 589840592915911,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 103693846591165,
									"parameters": {
										"variable": "APIError",
										"comparison": 1,
										"value": "\"\""
									}
								}
							],
							"actions": [],
							"sid": 323989803818820
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 839475784759813
								}
							],
							"actions": [
								{
									"id": "parse",
									"objectClass": "JSON",
									"sid": 989043432326670,
									"parameters": {
										"data": "APISuccess"
									}
								},
								{
									"id": "set-json",
									"objectClass": "Task",
									"sid": 520803698198711,
									"parameters": {
										"path": "\"serverUIDs\"",
										"json": "JSON.GetAsCompactString(\"\")"
									}
								},
								{
									"callFunction": "ListServers",
									"sid": 889290812366919,
									"parameters": [
										"CurrentUserUID",
										"CurrentPassword"
									]
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 560253495241840
								}
							],
							"sid": 368510530782004,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 376852307696014,
											"parameters": {
												"variable": "APIError",
												"comparison": 1,
												"value": "\"\""
											}
										}
									],
									"actions": [],
									"sid": 400459650300139
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 715089492774252
										}
									],
									"actions": [
										{
											"id": "parse",
											"objectClass": "Servers",
											"sid": 270539858107807,
											"parameters": {
												"data": "APISuccess"
											}
										}
									],
									"sid": 171565479039614,
									"children": [
										{
											"eventType": "comment",
											"text": "available list"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "clear",
													"objectClass": "SendingAvailableList",
													"sid": 963916657317345
												}
											],
											"sid": 416417391706273
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "Servers",
													"sid": 546082597076471,
													"parameters": {
														"path": "\"\""
													}
												}
											],
											"actions": [],
											"sid": 876277135425461,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-value",
															"objectClass": "Servers",
															"sid": 695026476908824,
															"parameters": {
																"path": "Servers.CurrentKey & \".from\"",
																"cmp": 1,
																"value": "\"\""
															}
														}
													],
													"actions": [
														{
															"id": "add-item",
															"objectClass": "SendingAvailableList",
															"sid": 128097470928513,
															"parameters": {
																"text": "Servers.Get(Servers.CurrentKey & \".host\") & \" - \" & Servers.Get(Servers.CurrentKey & \".from\")"
															}
														}
													],
													"sid": 408484883717353
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 616286066806653
														}
													],
													"actions": [
														{
															"id": "add-item",
															"objectClass": "SendingAvailableList",
															"sid": 389652811772290,
															"parameters": {
																"text": "Servers.Get(Servers.CurrentKey & \".host\") & \" - \" & Servers.Get(Servers.CurrentKey & \".user\")"
															}
														}
													],
													"sid": 929482437619650
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-selection",
													"objectClass": "SendingAvailableList",
													"sid": 591407437603672,
													"parameters": {
														"index": "0"
													}
												}
											],
											"sid": 150510723708201
										},
										{
											"eventType": "comment",
											"text": "selected list"
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "clear",
													"objectClass": "SendingSelectedList",
													"sid": 959896615022391
												}
											],
											"sid": 167545357654583
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "for-each",
													"objectClass": "Task",
													"sid": 218857115767835,
													"parameters": {
														"path": "\"serverUIDs\""
													}
												}
											],
											"actions": [],
											"sid": 356547779467363,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "for-each",
															"objectClass": "Servers",
															"sid": 289866791081649,
															"parameters": {
																"path": "\"\""
															}
														}
													],
													"actions": [],
													"sid": 482235346990253,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-value",
																	"objectClass": "Servers",
																	"sid": 702097677185915,
																	"parameters": {
																		"path": "Servers.CurrentKey & \".UID\"",
																		"cmp": 0,
																		"value": "Task.CurrentValue"
																	}
																}
															],
															"actions": [],
															"sid": 196109660037660,
															"children": [
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "compare-value",
																			"objectClass": "Servers",
																			"sid": 518348646589144,
																			"parameters": {
																				"path": "Servers.CurrentKey & \".from\"",
																				"cmp": 1,
																				"value": "\"\""
																			}
																		}
																	],
																	"actions": [
																		{
																			"id": "add-item",
																			"objectClass": "SendingSelectedList",
																			"sid": 212701947517600,
																			"parameters": {
																				"text": "Servers.Get(Servers.CurrentKey & \".host\") & \" - \" & Servers.Get(Servers.CurrentKey & \".from\")"
																			}
																		}
																	],
																	"sid": 370310665011980
																},
																{
																	"eventType": "block",
																	"conditions": [
																		{
																			"id": "else",
																			"objectClass": "System",
																			"sid": 976770527289313
																		}
																	],
																	"actions": [
																		{
																			"id": "add-item",
																			"objectClass": "SendingSelectedList",
																			"sid": 977326693232851,
																			"parameters": {
																				"text": "Servers.Get(Servers.CurrentKey & \".host\") & \" - \" & Servers.Get(Servers.CurrentKey & \".user\")"
																			}
																		}
																	],
																	"sid": 424315757969299
																}
															]
														}
													]
												}
											]
										},
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "set-selection",
													"objectClass": "SendingSelectedList",
													"sid": 698795407239170,
													"parameters": {
														"index": "0"
													}
												}
											],
											"sid": 419359339354903
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "add"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "SendingAdd",
					"sid": 509633787394936
				}
			],
			"actions": [],
			"sid": 276757306901396,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"id": "insert-value",
							"objectClass": "Task",
							"sid": 437518899964460,
							"parameters": {
								"value": "Servers.Get(str(SendingAvailableList.SelectedIndex) & \".UID\")",
								"path": "\"serverUIDs\"",
								"index": "0"
							}
						}
					],
					"sid": 319344409393851
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "SetTask",
							"sid": 823808927200236,
							"parameters": [
								"CurrentUserUID",
								"CurrentPassword",
								"CurrentTaskUID",
								"\"servers\"",
								"Task.GetAsCompactString(\"serverUIDs\")"
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 885763689399314
						},
						{
							"callFunction": "SendingRefreshUI",
							"sid": 125255474774102
						}
					],
					"sid": 729636996472639
				}
			]
		},
		{
			"eventType": "comment",
			"text": "remove"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "SendingRemove",
					"sid": 432026456877945
				}
			],
			"actions": [],
			"sid": 297980567306799,
			"children": [
				{
					"eventType": "variable",
					"name": "deletecount",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 787664528460139
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for",
							"objectClass": "System",
							"sid": 764956401610590,
							"parameters": {
								"name": "\"\"",
								"start-index": "0",
								"end-index": "SendingSelectedList.SelectedCount - 1"
							}
						}
					],
					"actions": [],
					"sid": 705474146531093,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"id": "remove-values",
									"objectClass": "Task",
									"sid": 483417783655563,
									"parameters": {
										"count": "1",
										"path": "\"serverUIDs\"",
										"index": "SendingSelectedList.SelectedIndexAt(loopindex) - deletecount"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 165392389640511,
									"parameters": {
										"variable": "deletecount",
										"value": "1"
									}
								}
							],
							"sid": 766790297196061
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "SetTask",
							"sid": 411752048900003,
							"parameters": [
								"CurrentUserUID",
								"CurrentPassword",
								"CurrentTaskUID",
								"\"servers\"",
								"Task.GetAsCompactString(\"serverUIDs\")"
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 999355238345301
						},
						{
							"callFunction": "SendingRefreshUI",
							"sid": 635393620200154
						}
					],
					"sid": 336102653430913
				}
			]
		}
	],
	"sid": 867055320136143
}