{
	"name": "Status",
	"events": [
		{
			"eventType": "include",
			"includeSheet": "Global"
		},
		{
			"eventType": "comment",
			"text": "navigation"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Back",
					"sid": 699568268995994
				}
			],
			"actions": [
				{
					"callFunction": "StatusNameSave",
					"sid": 883160409506863
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 948235108282199
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 945949210799331,
					"parameters": {
						"layout": "Letter"
					}
				}
			],
			"sid": 629198618185194
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Next",
					"sid": 247038887877030
				}
			],
			"actions": [
				{
					"callFunction": "StatusNameSave",
					"sid": 938727007312549
				},
				{
					"id": "wait-for-previous-actions",
					"objectClass": "System",
					"sid": 922501001994877
				},
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 633710627381516,
					"parameters": {
						"layout": "Main"
					}
				}
			],
			"sid": 223484749969247
		},
		{
			"eventType": "comment",
			"text": "refresh UI"
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 977611581714283
				}
			],
			"actions": [
				{
					"callFunction": "StatusRefreshUI",
					"sid": 550988499791438
				}
			],
			"sid": 767865045253917
		},
		{
			"functionName": "StatusRefreshUI",
			"functionCopyPicked": false,
			"functionDescription": "",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionIsAsync": true,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [],
			"sid": 806619572407440,
			"children": [
				{
					"eventType": "block",
					"conditions": [],
					"actions": [
						{
							"callFunction": "GetTask",
							"sid": 814809422342611,
							"parameters": [
								"CurrentUserUID",
								"CurrentPassword",
								"CurrentTaskUID",
								"\"name\""
							]
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 237428574686178
						},
						{
							"id": "set-text",
							"objectClass": "StatusName",
							"sid": 748114124631667,
							"parameters": {
								"text": "APISuccess"
							}
						}
					],
					"sid": 766628635640789,
					"children": [
						{
							"eventType": "block",
							"conditions": [],
							"actions": [
								{
									"callFunction": "GetTask",
									"sid": 873554758522914,
									"parameters": [
										"CurrentUserUID",
										"CurrentPassword",
										"CurrentTaskUID",
										"\"state\""
									]
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 452521743717541
								}
							],
							"sid": 997954110266644,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 904630781096046,
											"parameters": {
												"variable": "APISuccess",
												"comparison": 0,
												"value": "\"finished\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Message",
											"sid": 372230896944009,
											"parameters": {
												"text": "TextManager.Translate(\"status.finished-text\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusProgressBar",
											"sid": 236275868973354,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusStart",
											"sid": 249689744586787,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-text",
											"objectClass": "StatusStart",
											"sid": 105246642224089,
											"parameters": {
												"text": "TextManager.Translate(\"status.start\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusAbort",
											"sid": 989168241758996,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "Back",
											"sid": 929801964122880,
											"parameters": {
												"visibility": "visible"
											}
										}
									],
									"sid": 343034954635113
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 329224116381224
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 416662255837222,
											"parameters": {
												"variable": "APISuccess",
												"comparison": 0,
												"value": "\"running\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Message",
											"sid": 671821603525429,
											"parameters": {
												"text": "TextManager.Translate(\"status.running-text\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusProgressBar",
											"sid": 430454039179845,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusStart",
											"sid": 970258576887015,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-text",
											"objectClass": "StatusStart",
											"sid": 795624704077365,
											"parameters": {
												"text": "TextManager.Translate(\"status.pause\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusAbort",
											"sid": 842932310675882,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "Back",
											"sid": 824698934167890,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 122596282025145
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "else",
											"objectClass": "System",
											"sid": 513953009257647
										},
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 313304402859631,
											"parameters": {
												"variable": "APISuccess",
												"comparison": 0,
												"value": "\"paused\""
											}
										}
									],
									"actions": [
										{
											"id": "set-text",
											"objectClass": "Message",
											"sid": 412153116290058,
											"parameters": {
												"text": "TextManager.Translate(\"status.running-text\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusProgressBar",
											"sid": 741852161243252,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusStart",
											"sid": 901806256098606,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-text",
											"objectClass": "StatusStart",
											"sid": 945980275149459,
											"parameters": {
												"text": "TextManager.Translate(\"status.resume\")"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "StatusAbort",
											"sid": 876417576132256,
											"parameters": {
												"visibility": "visible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "Back",
											"sid": 706955559858193,
											"parameters": {
												"visibility": "invisible"
											}
										}
									],
									"sid": 964386549628607
								}
							]
						}
					]
				}
			]
		},
		{
			"eventType": "comment",
			"text": "change name"
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "StatusTextSave",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "variable",
					"name": "isNeedSave",
					"type": "boolean",
					"initialValue": "false",
					"comment": "",
					"isStatic": true,
					"isConstant": false,
					"sid": 159868952941398
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-text-changed",
							"objectClass": "StatusName",
							"sid": 796556193685272
						}
					],
					"actions": [
						{
							"id": "set-boolean-eventvar",
							"objectClass": "System",
							"sid": 524492609828797,
							"parameters": {
								"variable": "isNeedSave",
								"value": "true"
							}
						}
					],
					"sid": 957311334760266
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "every-x-seconds",
							"objectClass": "System",
							"sid": 810181652561621,
							"parameters": {
								"interval-seconds": "5"
							}
						}
					],
					"actions": [
						{
							"callFunction": "StatusNameSave",
							"sid": 659048620722369
						}
					],
					"sid": 206666592250118
				},
				{
					"functionName": "StatusNameSave",
					"functionCopyPicked": false,
					"functionDescription": "",
					"functionCategory": "",
					"functionReturnType": "none",
					"functionIsAsync": true,
					"functionParameters": [],
					"eventType": "function-block",
					"conditions": [],
					"actions": [],
					"sid": 991701243130760,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-boolean-eventvar",
									"objectClass": "System",
									"sid": 139054205374849,
									"parameters": {
										"variable": "isNeedSave"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-eventvar",
									"objectClass": "System",
									"sid": 248827590299637,
									"parameters": {
										"variable": "isNeedSave",
										"value": "false"
									}
								},
								{
									"callFunction": "SetTask",
									"sid": 673547192234090,
									"parameters": [
										"CurrentUserUID",
										"CurrentPassword",
										"CurrentTaskUID",
										"\"name\"",
										"trim(StatusName.Text)"
									]
								},
								{
									"id": "wait-for-previous-actions",
									"objectClass": "System",
									"sid": 455676078662600
								}
							],
							"sid": 451400768052074
						}
					]
				}
			],
			"sid": 904686161239382
		}
	],
	"sid": 810320226798431
}